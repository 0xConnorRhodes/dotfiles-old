# These settings are common to all configurations

# configurations
configurations = 'virtual-machines'
default_configuration = 'virtual-machines'
default_mount_point = '/mnt/emborg'

# encryption
encryption = 'none'

# basic settings
notifier = 'notify-send -u normal {prog_name} "{msg}" ; echo $(date) >> /home/connor/EMBORG_FAILED'

remote_ratelimit = 46050                  # bandwidth limit in kbps.
# got bandwidth by testing with iperf3 and cutting in half so I'll always have 1/2 of the network bandwidth for other purposes
# this will take 3 minutes per gb to back up

prune_after_create = True                # automatically run prune after a backup
check_after_create = 'latest'            # automatically run check after a backup
show_progress = True

# repository settings
repository = 'gb:/mnt/pool/nosync/emborg/laptop-e15/{config_name}'
prefix = '{config_name}-{{utcnow}}'

compression = 'zstd,3'

# filter settings
exclude_if_present = '.nobackup'
one_file_system = True
exclude_caches = True

# prune settings
keep_within = '1d'                       # keep all archives created in interval
keep_hourly = 48                         # number of hourly archives to keep
keep_daily = 14                          # number of daily archives to keep
keep_weekly = 8                          # number of weekly archives to keep
keep_monthly = 24                        # number of monthly archives to keep
keep_yearly = 2                          # number of yearly archives to keep
